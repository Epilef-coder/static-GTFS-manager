<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>GTFS Manager : Main info</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-5/css/all.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->

    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    
    <link href="vendor/select2/css/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/toast-0.7.1/toast.min.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">
    <!-- Put the CSSs first and JSs next -->

</head>

<body class="page-content--bgf7">
    <div class="page-wrapper">
        <!-- HEADER DESKTOP-->
        <header class="header-desktop3 d-none d-lg-block">
            <div class="section__content section__content--p35">
                <div class="header3-wrap">
                    <div class="header__logo">
                        <a href="#">
                            <img src="extra_files/GTFS.png" width="52" height="170" alt="GTFS Manager" />
                        </a>
                    </div>
                    <div class="header__navbar" id="navmenuinsert">
                        <!-- menu will be inserted from menu.js.-->
                    </div>
                    <div class="form-inline my-2 my-md-0">
                        <input id="password" class="form-control mr-sm-2" type="text" placeholder="pw for edits" style="width:200px;" id="password">
                    </div>
                </div>
            </div>
        </header>
        <!-- END HEADER DESKTOP-->
        <!-- MAIN CONTENT-->
        <div class="page-content--bgf7">
            <div class="section__content section__content--p30">
                <div class="container-fluid p-t-20">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="accordion" id="accordionExample">
                                <div class="card">
                                    <div class="card-header" id="headingOne">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                                <i class="fas fa-angle-right"></i> Instructions
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <p align="center">
                                                <a href="https://www.youtube.com/embed/n8BuDM51QyU?rel=0&autoplay=1" target="_blank">
                                                    <img class="videothumb" src="extra_files/demo-video.jpg">
                                                    <br>
                                                    <small>Click here to see a demo video.</small>
                                                </a>
                                            </p>
                                            <ul class="list-unstyled">
                                                <li>This is the home/main page of the tool. It gives you and overview of your
                                                    data, and here you can import/export your GTFS feeds.</li>
                                                <li>There are 4 sections on this page:</li>
                                                <li>
                                                    <b>Current GTFS data</b> : current stats of data in database.</li>
                                                <li>
                                                    <b>Import GTFS</b> : Import a GTFS feed to load it into the database and
                                                    edit it with this tool. You can also load in other formats or start a
                                                    Blank Slate (blank GTFS feed).</li>
                                                <li>
                                                    <b>Browse past GTFS Exports</b> : See past exports and backups of the database.
                                                    To revert to an older version of the data, download a past feed and re-import
                                                    it using the Import GTFS section.</li>
                                                <li>
                                                    <b>Commit and Export GTFS</b> : Feeling ready with the data? Or just want
                                                    to keep a backup? Type in a name for easy identification, and press the
                                                    big green button!</li>
                                                <li>Please make sure you are well versed with the
                                                    <a href="https://developers.google.com/transit/gtfs/reference/">static GTFS standard</a> before using this tool.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-header">
                                    <strong class="card-title mb-3">Current GTFS data</strong>
                                </div>
                                <div class="card-body" id="GTFSstats">
                                    <div class="d-flex align-items-center">
                                        <strong>Loading...</strong>
                                        <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
                                      </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="card">
                                <div class="card-header">
                                    <strong class="card-title mb-3">Import GTFS</strong>
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">GTFS ZIP</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Other Formats</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Blank Slate</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content pl-3 p-1" id="myTabContent">
                                        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                            Import an existing GTFS feed.
                                            <small>(.zip file)</small>
                                            <div class="form-group row">
                                                <label for="gtfsZipFile" class="col-sm-2 col-form-label">File</label>
                                                <div class="col-sm-10">
                                                    <input type="file" id="gtfsZipFile" name="gtfsZipFile" class="form-control-file" accept=".zip">
                                                    <span class="help-block">Choose a file</span>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-sm-10">
                                                    <button id="importGTFSbutton" class="btn btn-primary" data-toggle="popover" data-trigger="hover" data-placement="right" data-html="true"
                                                        title="Importing GTFS zip" data-content="Note: <br>1. All files inside the ZIP file must be at top level (no subfolders) and properly named, in lowercase, with .txt extensions as per the accepted static GTFS standards.<br>2. <b>stop_times.txt</b> <i>must</i> be sorted by trip_id.<br>3. <b>shapes.txt</b> <i>must</i> be sorted by shape_id.<br>4. Its ok if some tables are absent - import whatever you have and then build remaining tables with this tool.">Upload >></button>                                                   
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                            <h6>Import data in other formats</h6>
                                            <ul class="list-unstyled">
                                                <li>If your data is in Kochi Metro's XML format,
                                                    <a href="kmrl.html">click here</a>.</li>
                                                <li>If your data is in Hyderabad Metro's CSV format,
                                                    <a href="hmrl.html">click here</a>.</li>
                                            </ul>
                                        </div>
                                        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                                            <p>
                                                <button id="gtfsBlankSlateButton" class="btn btn-danger">Create a Blank Slate DB</button> to start making a GTFS feed from scratch.</p>
                                            <p id="gtfsBlankSlateStatus"></p>
                                        </div>
                                    </div>                                    
                                </div>
                                <div class="card-footer text-muted">
                                    <div class="alert alert-warning">
                                        <small>Note: All of the above 3 actions will wipe out the current data in the db. A backup
                                            GTFS export will be made just in case you want to revert later. You can find
                                            it from the past commits section after refreshing this page.</small>
                                    </div>
                                  </div>
                            </div>
                            <div class="card">
                                <div class="card-header">
                                    <strong class="card-title mb-3">Export GTFS Feed</strong>
                                </div>
                                <div class="card-body">
                                    <p>If you feel like your data is ready, choose a commit name and press the button to create
                                        a freshly minted GTFS feed!</p>
                                    <div class="form-horizontal">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label for="hf-email" class="form-control-label">Choose a filename</label>
                                            </div>
                                            <div class="col-sm-8">                                                
                                                    <input id="commitName" placeholder="choose a name, eg: first-try" data-toggle="popover" data-trigger="hover" data-placement="top"
                                                        data-html="true" title="Pick a name" data-content="So that it's easy for you to identify later, type in a word or so to give your export a name.<br><small>Note: No special characters. Keep lowercase. Can use alphabets, digits, hyphen (-), underscore (_). Spaces will be converted to _"
                                                        class="form-control">
                                                
                                            </div>                                            
                                        </div>
                                        <div class="row">
                                            <div class="col col-md-12">
                                                <button class="btn btn-bg btn-success" id="exportGTFS">Generate and Export GTFS</button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <strong class="card-title mb-3">Browse past GTFS Exports</strong>
                                </div>
                                <div class="card-body" id="pastCommits">
                                    <small>Loading past commits..</small>>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MAIN CONTENT-->
        <!-- END PAGE CONTAINER-->
    </div>

    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS       -->
    <script src="vendor/slick/slick.min.js">
    </script>
    <script src="vendor/wow/wow.min.js"></script>

    <script src="vendor/select2/js/select2.min.js"></script>
    <script src="vendor/toast-0.7.1/toast.min.js"></script>
    <!-- Main JS-->
    <script src="js/main.js"></script>
    <script src="js/menu.js"></script>


    <script src="config/settings.js" type="text/javascript"></script>
    <script src="js/commonfuncs.js" type="text/javascript"></script>
    <script src="js/homepage.js" type="text/javascript"></script>

</body>

</html>